

<div *ngFor="let le of learningExperiences | async" class="container" [class.editing]="edited==le.$key">

   <md-card>
      <md-menu #menu="mdMenu">
          <button md-menu-item (click)="edit(le.$key)"> Edit </button>
          <button md-menu-item (click)="delete(learningExperiences, le.$key)"> Delete </button>
      </md-menu>


      <md-card-subtitle>{{le.subject}} | Curriculum Level {{le.level}} 
         <button [mdMenuTriggerFor]="menu" md-icon-button color="primary">
         <md-icon>more_vert</md-icon>
         </button>
      </md-card-subtitle>

      <md-card-title>{{le.title}}<b>{{ le.date | date}}</b></md-card-title> 
      <md-card-content>
         <p>{{le.description}}</p>    
      </md-card-content>
      <md-card-actions align="end">

      <button  [routerLink]="le.$key" md-icon-button color="accent">
      <md-icon>chevron_right</md-icon>
      </button>
           
      </md-card-actions> 
   </md-card>


   <md-card style="width:700px" class="highlight" *ngIf="edited==le.$key">  
      <md-card-content>
         <form novalidate #learningexperienceform="ngForm" 
         (submit)="learningExperiences.update(le.$key,learningexperienceform.value); editFinished();">

            <md-card-title>EDIT</md-card-title> 

            <md-input-container style="width: 100%">
               <input [(ngModel)]="le.title" name="title" md-input placeholder="Title">
            </md-input-container>

            <md-input-container style="width:100%">
               <input [(ngModel)]="le.date" type="date" name="date" md-input placeholder="Expected Finishing Date">
            </md-input-container>
             
            <md-input-container style="width: 100%">
                 <textarea [(ngModel)]="le.description" name="description" md-input placeholder="Description"></textarea>
            </md-input-container>


            <table style="width: 100%" cellspacing="0"><tr>
               <td><md-input-container style="width: 100%">
                 <input [(ngModel)]="le.subject" name="subject" md-input placeholder="Subject">
               </md-input-container></td>
               <td><md-input-container style="width: 100%">
                 <input [(ngModel)]="le.level" name="level" md-input placeholder="Curriculum Level">
               </md-input-container></td>
             </tr></table>
            
            <button type="submit" md-raised-button color="primary">Update</button>
         </form>       
      </md-card-content>
   </md-card>
</div>



<div class="editing" style="margin-top: 50px">
   <md-card>
      <md-card-title>New Learning Experience</md-card-title>   
      <md-card-content>
   	   <form novalidate #learningexperienceform="ngForm" (submit)="
         learningExperiences.push(learningexperienceform.value); 
         learningexperienceform.reset();">

            <md-input-container style="width: 100%">
               <input ngModel name="title" md-input placeholder="Title">
            </md-input-container>

            <md-input-container style="width:100%">
               <input ngModel name="date" type="date" md-input placeholder="Expected Finishing Date">
            </md-input-container>
             
           <!--  <md-input-container style="width: 100%">
               <textarea  ngModel name="intentions" md-input placeholder="Learning Intentions" ></textarea>
            </md-input-container> -->

            <md-input-container style="width: 100%">
                 <textarea ngModel name="description" md-input placeholder="Description" ></textarea>
            </md-input-container>


            <table style="width: 100%" cellspacing="0"><tr>
               <td><md-input-container style="width: 100%">
                 <input ngModel name="subject" md-input placeholder="Subject">
               </md-input-container></td>
               <td><md-input-container style="width: 100%">
                 <input ngModel name="level" md-input placeholder="Level">
               </md-input-container></td>
             </tr></table>
            
            <button type="submit" md-raised-button color="primary">Create</button>
   	   </form>       
      </md-card-content>
   </md-card>
</div>


