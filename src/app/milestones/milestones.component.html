<button routerLink="/learningexperiences" class="fixedbutton" md-fab>
    <md-icon  class="md-24">chevron_left</md-icon>
</button>


<!-- <md-card class='highlight'>
 <h1>{{ (learningExperience | async)?.name }}</h1>
</md-card> -->

<div class="container">
  <div class="flexy" *ngFor="let milestone of milestones | async"><md-card>
   <md-card-subtitle>Subtitle first</md-card-subtitle>
   <md-card-title>{{ milestone.name }}</md-card-title> 
   <md-card-content >

   <div *ngFor="let todo of milestone.stream | async">
     

      <md-card *ngIf="todo.type=='comment'" class="md-card-flat comment">
        <md-card-title>
          <span class="stream-head">{{todo.type}}</span>  
        </md-card-title>

        <div class="comment-arrow-left"></div>

        <md-card-content style="padding-top: 10px">{{todo.text}} </md-card-content>
      </md-card>


      <md-card *ngIf="todo.type=='resource'" class="md-card-flat resource">
        <md-card-title>
          <span class="stream-head">{{todo.type}}</span>  
        </md-card-title>

        

        <md-card-content style="padding-top: 10px">{{todo.text}} </md-card-content>
      </md-card>

      <md-card *ngIf="todo.type=='marking'" class="md-card-flat marking">
        <md-card-title>
          <span class="stream-head">{{todo.type}}</span>  
        </md-card-title>

       <!--  <div class="arrow-left"></div> -->

        <md-card-content style="padding-top: 10px">{{todo.text}} </md-card-content>
      </md-card>
    
    </div> 

      <div style="clear: right;"></div>

   </md-card-content>
   <md-card-actions>
        
   </md-card-actions>
</md-card>

<md-card class='highlight'>
  <md-card-content>

        <md-tab-group class="tab-form">
        <md-tab label="Create Comment">
             <form #streamForm (submit)="newComment( milestone.todos, milestone.stream,{ type:'comment', text:newTodo.value}); streamForm.reset()">
                  
                   
                      <md-input #newTodo md-input placeholder="Add Comment" style="width:100%"></md-input>
                    
                
             </form> 
        </md-tab>
        <md-tab label="Create Resource">
            <form (submit)="newResource( milestone.resources, milestone.stream,{ type:'resource', text:resource.value})">
                  
                   
                      <md-input #resource md-input placeholder="Add Resource" style="width:100%"></md-input>
                    
                
            </form>
        
        </md-tab>
        <md-tab label="Create Assessment">
        
          <form (submit)="newMarking( milestone.marking, milestone.stream, { type: 'marking', text:marking.value})">
            
                
                 
                    <md-input #marking md-input placeholder="Add Assessment" style="width:100%"></md-input>
                  
              
          </form>

        </md-tab>
      </md-tab-group>
  </md-card-content>
</md-card>

</div>




<div>
<md-card>
   <md-card-subtitle>Learning Experience</md-card-subtitle>
   <md-card-title>Create Milestone</md-card-title>   
   <md-card-content>
      <form (submit)="milestones.push({
         name:newPerson.value
        })">
         <input #newPerson>
         <label for="newPerson">Add Milestone</label> 
      </form> 
	         
   </md-card-content>
   <md-card-actions>
     
   </md-card-actions>
</md-card>
</div>













